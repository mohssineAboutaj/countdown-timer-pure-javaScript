"use strict";// get constant variables & main container
var container=document.getElementById("timer"),oneSec=1e3,timeSpanClass="time",timeSeparatorClass="separator",dataHours=container.getAttribute("data-hours"),dataMinutes=container.getAttribute("data-minutes"),dataSeconds=container.getAttribute("data-seconds"),timerEnd=container.getAttribute("data-timer-end"),timerOnEndMsg="data-timer-end";// get values from main container
(""==dataHours||null==dataHours||dataHours==NaN)&&(dataHours="0"),(""==dataMinutes||null==dataMinutes||dataMinutes==NaN)&&(dataMinutes="0"),(""==dataSeconds||null==dataSeconds||dataSeconds==NaN)&&(dataSeconds="0");// create childs element to set the countdown times & convert data-attr to numbers
var hoursSpan=document.createElement("span"),minutesSpan=document.createElement("span"),secondsSpan=document.createElement("span"),separator1=document.createElement("span"),separator2=document.createElement("span"),separatorValue=":",max=59,s=parseInt(dataSeconds)>max?max:parseInt(dataSeconds),m=parseInt(dataMinutes)>max?max:parseInt(dataMinutes),h=parseInt(dataHours);// set classes and value into spans
secondsSpan.classList.add("time"),minutesSpan.classList.add("time"),hoursSpan.classList.add("time"),separator1.classList.add("separator"),separator1.textContent=":",separator2.classList.add("separator"),separator2.textContent=":",checkValue=function checkValue(a){return 10>a?"0"+a:a},hoursSpan.textContent=checkValue(dataHours),minutesSpan.textContent=checkValue(dataMinutes),secondsSpan.textContent=checkValue(dataSeconds),timer=function timer(a,b,c){return(s=parseInt(a),m=parseInt(b),h=parseInt(c),0<s)?s-=1:(s=max,0<m)?m-=1:(m=max,0<h)?h-=1:void 0},finished=function finished(){max=0;var a=container.getAttribute(timerOnEndMsg);container.setAttribute(timerOnEndMsg,"true"),container.textContent=""==a||null==a?"timer-end":a},counter=setInterval(function(){0==h&&0==m&&0==s&&clearInterval(counter,finished()),0<=s&&(timer(s,m,h),hoursSpan.textContent=checkValue(h),minutesSpan.textContent=checkValue(m),secondsSpan.textContent=checkValue(s))},1000);// add time & separators into main container
for(var children=[hoursSpan,separator1,minutesSpan,separator2,secondsSpan],_i=0,_children=children;_i<_children.length;_i++)child=_children[_i],container.appendChild(child);
